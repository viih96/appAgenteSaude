(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{eMaC:function(t,e,o){"use strict";o.r(e),o.d(e,"SymptomsFormPageModule",function(){return y});var i=o("SVse"),s=o("s7LF"),n=o("sZkV"),m=o("iInd"),a=o("mrSG");class r{constructor(){this.description="",this.imgUrl="",this.filePath=""}}var c=o("8Y7J"),d=o("5eYs"),l=o("fMxG"),h=o("UXh4");function b(t,e){if(1&t){const t=c.Pb();c.Ob(0,"ion-item"),c.Ob(1,"ion-label",15),c.nc(2,"Imagem"),c.Nb(),c.Ob(3,"ion-input",16),c.Wb("change",function(e){return c.jc(t),c.Yb().upload(e)}),c.Nb(),c.Nb()}}const p=function(){return["/symptoms-list"]},g=[{path:"",component:(()=>{class t{constructor(t,e,o,i,s){this.activatedRoute=t,this.symptomsService=e,this.storage=o,this.router=i,this.toast=s,this.symptomsId="",this.file=null,this.filePath="",this.imgUrl="",this.hasImg=!1}ngOnInit(){if(this.symptoms=new r,this.symptoms.name="",this.symptoms.idname="",this.symptoms.description="",this.symptomsId=this.activatedRoute.snapshot.params.id,this.title=this.symptomsId?"EDITAR Sintoma":"NOVO Sintoma",this.symptomsId){const t=this.symptomsService.getById(this.symptomsId).subscribe(e=>{t.unsubscribe();const{name:o,idname:i,description:s,imgUrl:n,filePath:m}=e;this.symptoms.name=o,this.symptoms.idname=i,this.symptoms.description=s,this.filePath=m,this.imgUrl=n,this.hasImg=""!=this.imgUrl})}}upload(t){this.file=t.target.files.length?t.target.files[0]:null}removerImg(t,e){return Object(a.a)(this,void 0,void 0,function*(){try{yield this.symptomsService.removerImg(t,e),this.imgUrl="",this.filePath="",this.hasImg=!1}catch(o){this.toast.showMessageTop(o,"danger")}})}onSubmit(){return Object(a.a)(this,void 0,void 0,function*(){if(this.symptomsId)try{yield this.symptomsService.updateSymptoms(this.symptoms,this.symptomsId,this.file),this.toast.showMessageBottom("Sintoma alterado com sucesso!!!","dark-green"),this.router.navigate(["/symptoms-list"])}catch(t){this.toast.showMessageTop(t,"danger"),console.log(t)}else try{yield this.symptomsService.addSymptoms(this.symptoms,this.file),this.toast.showMessageBottom("Sintoma inserido com sucesso!!!","dark-green"),this.router.navigate(["/symptoms-list"])}catch(t){this.toast.showMessageTop(t,"danger"),console.log(t)}})}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(m.a),c.Lb(d.a),c.Lb(l.a),c.Lb(m.g),c.Lb(h.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-symptoms-form"]],decls:28,vars:11,consts:[["color","dark-green"],["color","light"],[3,"ngSubmit"],["lines","none",1,"ion-margin-top"],["position","stacked"],["name","name","type","text","placeholder","Nome do Sintoma",3,"ngModel","ngModelChange"],["name","idname","type","text","placeholder","mesmo nome do sintoma tudo junto e sem acentua\xe7\xe3o",3,"ngModel","ngModelChange"],["name","description","type","text","placeholder","Descri\xe7\xe3o do Sintoma",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"form-group",3,"hidden"],[1,"img-thumbnail","d-block",2,"max-width","100px",3,"src","hidden"],["expand","block","color","danger",3,"hidden","click"],["slot","start","name","trash"],["id","salvar","expand","block","type","submit","color","dark-green"],["expand","block","color","warning",3,"routerLink"],[1,"form-control-label"],["type","file","accept","image/png,image/jpeg",3,"change"]],template:function(t,e){1&t&&(c.Ob(0,"ion-header"),c.Ob(1,"ion-toolbar",0),c.Ob(2,"ion-title"),c.nc(3),c.Nb(),c.Nb(),c.Nb(),c.Ob(4,"ion-content",1),c.Ob(5,"form",2),c.Wb("ngSubmit",function(){return e.onSubmit()}),c.Ob(6,"ion-item",3),c.Ob(7,"ion-label",4),c.nc(8,"Sintoma"),c.Nb(),c.Ob(9,"ion-input",5),c.Wb("ngModelChange",function(t){return e.symptoms.name=t}),c.Nb(),c.Nb(),c.Ob(10,"ion-item",3),c.Ob(11,"ion-label",4),c.nc(12,"id do Sintoma"),c.Nb(),c.Ob(13,"ion-input",6),c.Wb("ngModelChange",function(t){return e.symptoms.idname=t}),c.Nb(),c.Nb(),c.Ob(14,"ion-item",3),c.Ob(15,"ion-label",4),c.nc(16,"Descri\xe7\xe3o"),c.Nb(),c.Ob(17,"ion-input",7),c.Wb("ngModelChange",function(t){return e.symptoms.description=t}),c.Nb(),c.Nb(),c.mc(18,b,4,0,"ion-item",8),c.Ob(19,"ion-item",9),c.Mb(20,"img",10),c.Ob(21,"ion-button",11),c.Wb("click",function(){return e.removerImg(e.symptomsId,e.filePath)}),c.Mb(22,"ion-icon",12),c.nc(23," Remover esta Imagem "),c.Nb(),c.Nb(),c.Ob(24,"ion-button",13),c.nc(25,"Salvar"),c.Nb(),c.Ob(26,"ion-button",14),c.nc(27,"Cancelar"),c.Nb(),c.Nb(),c.Nb()),2&t&&(c.Bb(3),c.oc(e.title),c.Bb(6),c.dc("ngModel",e.symptoms.name),c.Bb(4),c.dc("ngModel",e.symptoms.idname),c.Bb(4),c.dc("ngModel",e.symptoms.description),c.Bb(1),c.dc("ngIf",""==e.imgUrl),c.Bb(1),c.dc("hidden",!e.hasImg),c.Bb(1),c.ec("src",e.imgUrl,c.kc),c.dc("hidden",!e.hasImg),c.Bb(1),c.dc("hidden",!e.hasImg),c.Bb(5),c.dc("routerLink",c.fc(10,p)))},directives:[n.l,n.F,n.E,n.h,s.i,s.e,s.f,n.o,n.p,n.n,n.M,s.d,s.g,i.k,n.d,n.m,n.K,m.h],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}ion-item[_ngcontent-%COMP%]{border:.3rem solid #0fff98;margin-top:.8rem;margin-bottom:.8rem}"]}),t})()}];let u=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},imports:[[m.j.forChild(g)],m.j]}),t})(),y=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},imports:[[i.c,s.a,n.G,u]]}),t})()}}]);