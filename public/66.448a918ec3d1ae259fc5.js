(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{FtsN:function(e,t,n){"use strict";n.r(t),n.d(t,"MedicamentPageModule",function(){return M});var i=n("SVse"),o=n("s7LF"),a=n("sZkV"),s=n("iInd"),c=n("mrSG");class r{constructor(){this.remedio="",this.tipo="",this.dosagem="",this.horario="",this.observacao="",this.name="",this.registro="",this.professional=""}}var b=n("I4Yg"),d=n("NLjV"),l=n("cK+P"),m=n("8Y7J"),u=n("Na7f"),h=n("cAy6"),g=n("r97l"),p=n("VRCc"),N=n("fMxG"),O=n("UXh4");const f=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o,a,s,c){this.activatedRoute=e,this.medicamentService=t,this.userService=n,this.attendanceService=i,this.afa=o,this.storage=a,this.router=s,this.toast=c,this.d=new Date,this.yearNow=this.d.getFullYear()}ngOnInit(){if(this.agent=new l.a,this.attend=new b.a,this.user=new d.a,this.afa.authState.subscribe(e=>{if(this.agenteId=e.uid,console.log(this.agenteId),this.agenteId){const e=this.medicamentService.getByAgId(this.agenteId).subscribe(t=>{e.unsubscribe(),console.log(t),this.agent.name=null==t.name?"":t.name,this.agent.registro=null==t.registro?"":t.registro,this.agent.professional=null==t.professional?"":t.professional})}}),this.attendId=this.activatedRoute.snapshot.params.id,this.attendId){const e=this.attendanceService.getById(this.attendId).subscribe(t=>{e.unsubscribe();const{date:n,name:i,cartaosus:o,uId:a}=t;this.attend.name=i,this.attend.date=n,this.attend.cartaosus=o;const s=this.userService.getByIdPaciente(a).subscribe(e=>{s.unsubscribe();const{name:t,datanascimento:n,tiposanguineo:i,sexo:o,celular:a,faixaetaria:c,comorbidades:r,cartaosus:b}=e;this.user.name=t,this.user.datanascimento=n,this.dnascimento=this.yearNow-parseInt(n.substring(0,4)),this.user.tiposanguineo=i,this.user.sexo=o,this.user.celular=a,this.user.faixaetaria=c,this.user.comorbidades=r,this.user.cartaosus=b,console.log(e)})})}this.medicament=new r,this.medicament.remedio="",this.medicament.tipo="",this.medicament.dosagem="",this.medicament.horario="",this.medicament.observacao=""}finishing(){return Object(c.a)(this,void 0,void 0,function*(){try{yield this.medicamentService.addMedicament(this.attendId,this.medicament,this.agent),this.toast.showMessageBottom("Medicamento inserido com sucesso!!!","dark-green"),this.router.navigate(["/attendance-information",this.attendId])}catch(e){this.toast.showMessageTop(e,"danger"),console.log(e)}this.attend.status="closed"})}voltar(){this.router.navigate(["/attendance-information",this.attendId])}updateStatus(){return Object(c.a)(this,void 0,void 0,function*(){try{yield this.medicamentService.addMedicament(this.attendId,this.medicament,this.agent),this.toast.showMessageBottom("Medicamento inserido com sucesso!!!","dark-green"),this.router.navigate(["/attendance-information",this.attendId])}catch(e){this.toast.showMessageTop(e,"danger"),console.log(e)}try{yield this.medicamentService.updateStatus(this.attend,this.attendId),this.toast.showMessageBottom("Atendimento finalizado!!!","dark-green"),this.router.navigate(["attendance/"])}catch(e){this.toast.showMessageTop(e,"danger"),console.log(e)}})}}return e.\u0275fac=function(t){return new(t||e)(m.Lb(s.a),m.Lb(u.a),m.Lb(h.a),m.Lb(g.a),m.Lb(p.a),m.Lb(N.a),m.Lb(s.g),m.Lb(O.a))},e.\u0275cmp=m.Fb({type:e,selectors:[["app-medicament"]],decls:70,vars:7,consts:[["color","dark-green"],["slot","start"],["size","6"],["position","stacked"],["type","text","name","paciente","disabled","true"],["position","floating"],["type","text","name","remedio",3,"ngModel","ngModelChange"],["placeholder","Escolha","type","text","name","tipo",3,"ngModel","ngModelChange"],["value","Comprimido"],["value","C\xe1psula"],["value","Injet\xe1vel"],["value","L\xedquido"],["value","Pomada"],["type","number","name","dosagem",3,"ngModel","ngModelChange"],["type","number","name","horario",3,"ngModel","ngModelChange"],["size","12"],["type","text","name","observacao",3,"ngModel","ngModelChange"],["expand","block","type","submit","color","dark-green",3,"click"],["expand","block","type","submit","color","dark",3,"click"],["expand","block","color","warning",3,"click"]],template:function(e,t){1&e&&(m.Ob(0,"ion-header"),m.Ob(1,"ion-toolbar",0),m.Ob(2,"ion-buttons",1),m.Mb(3,"ion-menu-button"),m.Nb(),m.Ob(4,"ion-title"),m.nc(5,"MEDICAR"),m.Nb(),m.Nb(),m.Nb(),m.Ob(6,"ion-content"),m.Ob(7,"form"),m.Ob(8,"ion-grid"),m.Ob(9,"ion-row"),m.Ob(10,"ion-col",2),m.Ob(11,"ion-item"),m.Ob(12,"ion-label",3),m.nc(13,"Paciente"),m.Nb(),m.Ob(14,"ion-input",4),m.nc(15),m.Nb(),m.Nb(),m.Nb(),m.Ob(16,"ion-col",2),m.Ob(17,"ion-item"),m.Ob(18,"ion-label",3),m.nc(19,"N\xb0 do Sus"),m.Nb(),m.Ob(20,"ion-input",4),m.nc(21),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Ob(22,"ion-row"),m.Ob(23,"ion-col",2),m.Ob(24,"ion-item"),m.Ob(25,"ion-label",5),m.nc(26,"Rem\xe9dio"),m.Nb(),m.Ob(27,"ion-input",6),m.Wb("ngModelChange",function(e){return t.medicament.remedio=e}),m.Nb(),m.Nb(),m.Nb(),m.Ob(28,"ion-col",2),m.Ob(29,"ion-item"),m.Ob(30,"ion-label"),m.nc(31,"Tipo"),m.Nb(),m.Ob(32,"ion-select",7),m.Wb("ngModelChange",function(e){return t.medicament.tipo=e}),m.Ob(33,"ion-select-option",8),m.nc(34,"Comprimido"),m.Nb(),m.Ob(35,"ion-select-option",9),m.nc(36,"C\xe1psula"),m.Nb(),m.Ob(37,"ion-select-option",10),m.nc(38,"Injet\xe1vel"),m.Nb(),m.Ob(39,"ion-select-option",11),m.nc(40,"L\xedquido"),m.Nb(),m.Ob(41,"ion-select-option",12),m.nc(42,"Pomada"),m.Nb(),m.Ob(43,"ion-select-option",12),m.nc(44,"Pomada"),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Ob(45,"ion-row"),m.Ob(46,"ion-col",2),m.Ob(47,"ion-item"),m.Ob(48,"ion-label",5),m.nc(49,"Dosagem"),m.Nb(),m.Ob(50,"ion-input",13),m.Wb("ngModelChange",function(e){return t.medicament.dosagem=e}),m.Nb(),m.Nb(),m.Nb(),m.Ob(51,"ion-col",2),m.Ob(52,"ion-item"),m.Ob(53,"ion-label",5),m.nc(54,"Hor\xe1rio"),m.Nb(),m.Ob(55,"ion-input",14),m.Wb("ngModelChange",function(e){return t.medicament.horario=e}),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Ob(56,"ion-row"),m.Ob(57,"ion-col",15),m.Ob(58,"ion-item"),m.Ob(59,"ion-label",5),m.nc(60,"Observa\xe7\xf5es"),m.Nb(),m.Ob(61,"ion-textarea",16),m.Wb("ngModelChange",function(e){return t.medicament.observacao=e}),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Ob(62,"ion-row"),m.Ob(63,"ion-col",15),m.Ob(64,"ion-button",17),m.Wb("click",function(){return t.finishing()}),m.nc(65,"Salvar e Continuar Atendimento"),m.Nb(),m.Ob(66,"ion-button",18),m.Wb("click",function(){return t.updateStatus()}),m.nc(67,"Salvar e Finalizar Atendimento"),m.Nb(),m.Ob(68,"ion-button",19),m.Wb("click",function(){return t.voltar()}),m.nc(69,"Voltar"),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Nb()),2&e&&(m.Bb(15),m.oc(t.user.name),m.Bb(6),m.oc(t.user.cartaosus),m.Bb(6),m.dc("ngModel",t.medicament.remedio),m.Bb(5),m.dc("ngModel",t.medicament.tipo),m.Bb(18),m.dc("ngModel",t.medicament.dosagem),m.Bb(5),m.dc("ngModel",t.medicament.horario),m.Bb(6),m.dc("ngModel",t.medicament.observacao))},directives:[a.l,a.F,a.e,a.t,a.E,a.h,o.i,o.e,o.f,a.k,a.y,a.g,a.o,a.p,a.n,a.M,o.d,o.g,a.A,a.L,a.B,a.I,a.D,a.d],styles:[""]}),e})()}];let v=(()=>{class e{}return e.\u0275mod=m.Jb({type:e}),e.\u0275inj=m.Ib({factory:function(t){return new(t||e)},imports:[[s.j.forChild(f)],s.j]}),e})(),M=(()=>{class e{}return e.\u0275mod=m.Jb({type:e}),e.\u0275inj=m.Ib({factory:function(t){return new(t||e)},imports:[[i.c,o.a,a.G,v]]}),e})()}}]);